/*------------------------------------*\
  PERFUNDO
\*------------------------------------*/
/**
 * CONTENTS
 * VARIABLES...........
 * OVERLAY.............
 * CONTROLS............
 * ANIMATIONS..........
 */



/*------------------------------------*\
  $VARIABLES
\*------------------------------------*/

$perfundo-namespace:        'perfundo' !default;
$perfundo-background-color: #000 !default;
$perfundo-opacity:          0.9 !default;
$perfundo-svg-buttons:      false !default;

/**
 * Overlay
 */
.#{$perfundo-namespace}__overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  display: flex;
  visibility: hidden;
  justify-content: center;
  align-items: center;
  background-color: rgba($perfundo-background-color, $perfundo-opacity);
  &:target {
    visibility: visible;
  }
}

.#{$perfundo-namespace}__content {
  text-align: left;
  :target > & {
    animation: 0.4s ease-out 0.2s both;
    animation-name: inherit;
  }
}

.#{$perfundo-namespace}__figcaption {
  color: #efefef;
}

/**
 * Controls
 */
.#{$perfundo-namespace}__control {
  position: absolute;
  @if $perfundo-svg-buttons {
    width: 3em;
    height: 3em;
    background-position: center center;
    background-size: cover;
    text-indent: -999em;
  } @else {
    text-decoration: none;
    text-transform: uppercase;
    &,
    &:visited {
      color: #fff;
    }
    &:hover,
    &:focus {
      text-decoration: underline;
    }
  }
}

.#{$perfundo-namespace}__close {
  top: 1em;
  right: 1em;
  @if $perfundo-svg-buttons {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 32 32" xml:space="preserve"><path fill="#fff" d="M21.7 10.3c-0.4-0.4-1-0.4-1.4 0l-4.3 4.3-4.2-4.2c-0.4-0.4-1-0.4-1.4 0-0.4 0.4-0.4 1 0 1.4l4.2 4.2-4.3 4.3c-0.4 0.4-0.4 1 0 1.4 0.4 0.4 1 0.4 1.4 0l4.3-4.3 4.2 4.2c0.4 0.4 1 0.4 1.4 0 0.4-0.4 0.4-1 0-1.4l-4.2-4.2 4.3-4.3C22.1 11.3 22.1 10.7 21.7 10.3zM16 0C7.2 0 0 7.2 0 16s7.2 16 16 16c8.8 0 16-7.2 16-16S24.8 0 16 0zM16 30C8.3 30 2 23.7 2 16S8.3 2 16 2s14 6.3 14 14S23.7 30 16 30z"/></svg>');
  }
}

.#{$perfundo-namespace}__prev,
.#{$perfundo-namespace}__next {
  top: 50%;
  margin-top: -1.5em;
  opacity: 0.2;
  transition: opacity 0.2s;
  @if $perfundo-svg-buttons {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" width="44.1" height="94.7" viewBox="0 0 44.1 94.7" enable-background="new 0 0 44.088 94.67" xml:space="preserve"><path fill="#fff" d="M44.1 47.3L1.5 94.7 0 93.3l41.4-46L0 1.3 1.5 0 44.1 47.3z"/></svg>');
  }
  &:hover,
  &:focus {
    opacity: 1;
  }
}

.#{$perfundo-namespace}__prev {
  left: 1em;
  @if $perfundo-svg-buttons {
    transform: rotate(180deg);
  }
}

.#{$perfundo-namespace}__next {
  right: 1em;
}

.#{$perfundo-namespace}__untarget {
  position: fixed;
  top: 0;
}
