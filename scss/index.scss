$perfundo-namespace:        'perfundo' !default;
$perfundo-background-color: #000 !default;
$perfundo-opacity:          0.9 !default;
$perfundo-svg-buttons:      false !default;

/**
 * Overlay
 */
.#{$perfundo-namespace}__overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  display: flex;
  visibility: hidden;
  justify-content: center;
  align-items: center;
  background-color: rgba($perfundo-background-color, $perfundo-opacity);
  &:target,
  &.is-active {
    visibility: visible;
  }
}

.#{$perfundo-namespace}__content {
  overflow: scroll;
  max-height: 100%;
  :target > &,
  .is-active > & {
    animation: 0.4s ease-out 0.2s both;
    animation-name: inherit;
  }
}

.#{$perfundo-namespace}__html {
  padding: 2em;
  max-width: 42em;
  background: #fff;
}

.#{$perfundo-namespace}__figure {
  margin: map-get($spacing, m);
  img {
    display: none;
  }
}

.#{$perfundo-namespace}__figcaption {
  color: #efefef;
}

/**
 * Controls
 */
.#{$perfundo-namespace}__control {
  position: absolute;
  @if $perfundo-svg-buttons {
    width: 3em;
    height: 3em;
    background-position: center center;
    background-size: cover;
    text-indent: -999em;
  } @else {
    text-decoration: none;
    text-transform: uppercase;
    &,
    &:visited {
      color: #fff;
    }
    &:hover,
    &:focus {
      text-decoration: underline;
    }
  }
}

.#{$perfundo-namespace}__close {
  top: map-get($spacing, s);
  right: map-get($spacing, s);
  @if $perfundo-svg-buttons {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" version%3D"1.1" x%3D"0" y%3D"0" viewBox%3D"0 0 32 32" xml%3Aspace%3D"preserve"><path fill%3D"%23fff" d%3D"M21.7 10.3c-0.4-0.4-1-0.4-1.4 0l-4.3 4.3-4.2-4.2c-0.4-0.4-1-0.4-1.4 0-0.4 0.4-0.4 1 0 1.4l4.2 4.2-4.3 4.3c-0.4 0.4-0.4 1 0 1.4 0.4 0.4 1 0.4 1.4 0l4.3-4.3 4.2 4.2c0.4 0.4 1 0.4 1.4 0 0.4-0.4 0.4-1 0-1.4l-4.2-4.2 4.3-4.3C22.1 11.3 22.1 10.7 21.7 10.3zM16 0C7.2 0 0 7.2 0 16s7.2 16 16 16c8.8 0 16-7.2 16-16S24.8 0 16 0zM16 30C8.3 30 2 23.7 2 16S8.3 2 16 2s14 6.3 14 14S23.7 30 16 30z"%2F><%2Fsvg>');
  }
}

.#{$perfundo-namespace}__prev,
.#{$perfundo-namespace}__next {
  top: 50%;
  margin-top: -1.5em;
  opacity: 0.2;
  transition: opacity 0.2s;
  @if $perfundo-svg-buttons {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" version%3D"1.1" x%3D"0" y%3D"0" width%3D"44.1" height%3D"94.7" viewBox%3D"0 0 44.1 94.7" enable-background%3D"new 0 0 44.088 94.67" xml%3Aspace%3D"preserve"><path fill%3D"%23fff" d%3D"M44.1 47.3L1.5 94.7 0 93.3l41.4-46L0 1.3 1.5 0 44.1 47.3z"%2F><%2Fsvg>');
  }
  &:hover,
  &:focus {
    opacity: 1;
  }
}

.#{$perfundo-namespace}__prev {
  left: map-get($spacing, l);
  @if $perfundo-svg-buttons {
    transform: rotate(180deg);
  }
}

.#{$perfundo-namespace}__next {
  right: map-get($spacing, l);
}

.#{$perfundo-namespace}__untarget {
  position: fixed;
  top: 0;
}
